# Модель прецедентів


## Загальна діаграма прецедентів


@startuml
skinparam defaultTextAlignment center
skinparam backgroundColor #ffffff
skinparam activity {
    StartColor #aee9d1
    EndColor #aee9d1
    BackgroundColor<<User>> #e6faec
    BackgroundColor<<System>> #f5f5f5
    BorderColor black
    FontSize 14
    ArrowColor Black
}

|Користувач| <<User>>
start
:Увійти в систему;
note right #ffcccc
Або зареєструватися
end note

|Система| <<System>>
:Перевірка облікових даних;

|Користувач| <<User>>
:Обрати дію в кабінеті;

|Система| <<System>>
:Відображення опцій;

|Користувач| <<User>>
:Створити / редагувати / видалити опитування;

|Система| <<System>>
:Зберегти / оновити / видалити опитування;

|Користувач| <<User>>
:Переглянути результати;
:Експортувати відповіді;

|Система| <<System>>
:Формування результатів або файлу;

stop

@enduml



## Схема користувача

@startuml

skinparam backgroundColor #ffffff
skinparam usecase {
  BackgroundColor #e6faec
  BorderColor black
  ArrowColor #6f6f6f
  FontSize 14
}

actor Користувач as User

' Групування по напрямках
usecase "Увійти\n(USER.SIGNIN)" as SIGNIN
usecase "Створити опитування\n(SURVEY.CREATE)" as CREATE
usecase "Редагувати опитування\n(SURVEY.UPDATE)" as UPDATE
usecase "Видалити опитування\n(SURVEY.DELETE)" as DELETE
usecase "Переглянути опитування\n(SURVEY.GET)" as GET
usecase "Отримати результати\n(SURVEY.GET_RESULTS)" as RESULTS
usecase "Експортувати відповідь\n(SURVEY.EXPORT)" as EXPORT
usecase "Відправити відповідь\n(RESPONSE.SEND)" as SEND

' Коло навколо користувача
User -up-> SIGNIN
User -right-> CREATE
User -down-> UPDATE
User -left-> DELETE
User -up-> GET
User -right-> RESULTS
User -down-> EXPORT
User -left-> SEND

@enduml



# Сценарії використання

## USER_SIGN_UP

| **ID**                 | USER_SIGN_UP                                           |
|------------------------|--------------------------------------------------------|
| **Назва**              | Зареєструвати користувача                              |
| **Учасники**           | Користувач, Система                                    |
| **Передумови**         | Користувач не має облікового запису                    |
| **Результат**          | Користувач успішно зареєстрований у системі            |
| **Виключні ситуації**  | - Введено некоректні дані — `InvalidDataException`  <br> - Користувач вже зареєстрований — `AlreadyRegisteredException` |
| **Основний сценарій**  | 1. Користувач відкриває сторінку реєстрації  <br> 2. Вносить необхідні дані (ім’я, email, пароль)  <br> 3. Система обробляє запит  <br> 4. Система створює обліковий запис  <br> 5. Система повідомляє користувача про успішну реєстрацію |


---
@startuml

|Користувач|
start
skinparam defaultTextAlignment center

:Користувач відкриває сторінку реєстрації;
:Користувач заповнює поля\n(Ім’я, Email, Пароль);

|#e6faec|Система|
:Система перевіряє коректність даних;
note right #ff8170
EX.01.01 — Некоректний формат email/поля порожні
end note

:Система перевіряє, чи обліковий запис з email уже існує;
note right #ff8170
EX.01.02 — Користувач уже зареєстрований
end note

|Користувач|
:Користувач натискає кнопку "Підтвердити";

|#e6faec|Система|
:Система створює новий обліковий запис;
:Система надсилає підтвердження успішної реєстрації;
:Система перенаправляє користувача на головну сторінку;

|Користувач|
:Головна сторінка відображається;
stop

@enduml




## USER_SIGN_IN

| **ID**                 | USER_SIGN_IN                                           |
|------------------------|--------------------------------------------------------|
| **Назва**              | Увійти                                                 |
| **Учасники**           | Користувач, Система                                    |
| **Передумови**         | Користувач зареєстрував обліковий запис                |
| **Результат**          | Вхід до облікового запису                              |
| **Виключні ситуації**  | - Користувач не надав необхідні дані <br> - Користувач увів неправильні дані |
| **Основний сценарій**  | 1. Користувач відкриває сторінку авторизації <br> 2. Вносить необхідні дані <br> 3. Система перевіряє правильність введених даних <br> 4. Користувач отримує доступ до облікового запису |

---

@startuml

skinparam defaultTextAlignment center

|Користувач|
start
:Користувач відкриває сторінку авторизації;
:Користувач вводить email та пароль;
:Натискає кнопку "Увійти";

|#e6faec|Система|
:Система перевіряє, чи заповнені обовʼязкові поля;
note right #ff8170
EX.02.01 — Порожні дані авторизації
end note

:Система перевіряє правильність email та паролю;
note right #ff8170
EX.02.02 — Невірний email або пароль
end note

:Система авторизує користувача;
:Система перенаправляє користувача на головну сторінку;

|Користувач|
:Відображається головна сторінка;
stop

@enduml



## POST_SURVEY

| **ID**                 | POST_SURVEY                                           |
|------------------------|--------------------------------------------------------|
| **Назва**              | Створення опитування                                  |
| **Учасники**           | Користувач, Система                                   |
| **Передумови**         | Користувач увійшов у обліковий запис  |
| **Результат**          | Опитування успішно створене                           |
| **Виключні ситуації**  |  Опитування не містить жодного питання |
| **Основний сценарій**  | 1. Користувач створює опитування <br> 2. Заповнює необхідні поля питаннями <br> 3. Система зберігає звіт <br> 4. Система зберігає опитування в базі даних |

---


@startuml
skinparam defaultTextAlignment center

|Користувач|
start
:Користувач натискає кнопку "Створити опитування";
:Користувач вводить назву, опис та додає питання;
:Натискає кнопку "Зберегти";

|#e6faec|Система|

:Система перевіряє, чи є хоча б одне питання;
note right #ff8170
EX.03.01 — Опитування не містить жодного питання
end note

:Система формує звіт про опитування;
:Система зберігає опитування у базу даних;

|Користувач|
:Користувач отримує підтвердження про успішне створення;
stop

@enduml



## GET_SURVEY

| **ID**                 | GET_SURVEY                                           |
|------------------------|--------------------------------------------------------|
| **Назва**              | Отримати інформацію про опитування                    |
| **Учасники**           | Користувач, Система                                   |
| **Передумови**         | Опитування існує |
| **Результат**          | Користувач отримає бажану інформацію                  |
| **Виключні ситуації**  | Опитування не існує                              |
| **Основний сценарій**  | 1. Користувач відкриває меню опитування <br> 2. Надсилає запит на перегляд інформації про опитування <br> 3. Обробка запиту системою <br> 4. Система надає загальну інформацію: назва, опис, кількість питань, типи питань тощо |

---


@startuml

skinparam defaultTextAlignment center

|Користувач|
start
:Користувач відкриває меню "Опитування";
:Надсилає запит на перегляд інформації про опитування;

|#e6faec|Система|
:Система приймає запит;
:Перевіряє, чи існує опитування;
note right #ff8170
EX.01 — Опитування не існує
end note

:Формує загальну інформацію;

|Користувач|
:Користувач переглядає інформацію про опитування;
stop

@enduml




## GET_SURVEY_RESULTS

| **ID**                 | GET_SURVEY_RESULTS                                    |
|------------------------|--------------------------------------------------------|
| **Назва**              | Отримати результати опитування                        |
| **Учасники**           | Користувач, Система                                   |
| **Передумови**         | Користувач створив опитування та пройшов його        |
| **Результат**          | Користувач отримав результат обраного опитування     |
| **Виключні ситуації**  | Опитування не існує або опитування не було пройдене|
| **Основний сценарій**  | 1. Користувач обирає конкретне опитування <br> 2. Надсилає запит для перегляду результатів <br> 3. Система обробляє запит <br> 4. Система надає результати опитування |

---


@startuml

skinparam defaultTextAlignment center

|Користувач|
start
:Користувач відкриває список створених опитувань;
:Користувач обирає потрібне опитування;
:Натискає "Переглянути результати";

|#e6faec|Система|
:Система приймає запит на перегляд результатів;
:Система перевіряє, чи опитування існує та було пройдене;
note right #ff8170
EX.05.01 — Опитування не існує  
EX.05.02 — Опитування не було пройдене
end note

:Система обробляє запит;
:Система генерує результати;

|Користувач|
:Користувач переглядає результати опитування;
stop

@enduml


## UPDATE_SURVEY

| **ID**                 | UPDATE_SURVEY                                        |
|------------------------|--------------------------------------------------------|
| **Назва**              | Змінити опитування                                   |
| **Учасники**           | Користувач, Система                                  |
| **Передумови**         | Користувач створив опитування                        |
| **Результат**          | Опитування відредаговане                             |
| **Виключні ситуації**  | Недостатні права доступу  |
| **Основний сценарій**  | 1. Користувач відкриває меню опитування <br> 2. Обирає потрібне опитування для редагування <br> 3. Вносить зміни <br> 4. Система зберігає змінені дані <br> 5. Система повідомляє про успішне редагування |

---


@startuml

skinparam defaultTextAlignment center

|Користувач|
start
:Користувач відкриває меню опитування;
:Користувач обирає потрібне опитування для редагування;

|#e6faec|Система|
:Система перевіряє права доступу користувача;
note right #ff8170
EX.06.01 — Недостатні права доступу  
end note

|Користувач|
:Користувач вносить зміни до опитування;
:Натискає кнопку "Зберегти";

|#e6faec|Система|
:Система зберігає змінені дані;
:Система повідомляє про успішне редагування;

|Користувач|
:Користувач бачить оновлену інформацію;
stop

@enduml



## DELETE_SURVEY

| **ID**                 | DELETE_SURVEY                                        |
|------------------------|--------------------------------------------------------|
| **Назва**              | Видалити опитування                                  |
| **Учасники**           | Користувач, Система                                  |
| **Передумови**         | Користувач бажає видалити опитування                 |
| **Результат**          | Система прибирає опитування                           |
| **Виключні ситуації**  | Опитування не було створене                         |
| **Основний сценарій**  | 1. Користувач обирає опитування для видалення <br> 2. Надсилає запит на видалення опитування <br> 3. Система обробляє запит на видалення |

---


@startuml

skinparam defaultTextAlignment center

|Користувач|
start
:Користувач обирає опитування, яке хоче видалити;
:Користувач підтверджує вибір опитування;

|Користувач|
:Користувач надсилає запит на видалення опитування;

|#e6faec|Система|
:Система перевіряє наявність опитування;
note right #ff8170
EX.07.01 — Опитування не було створене
end note

:Система видаляє опитування з бази даних;
:Система підтверджує видалення користувачу;

|Користувач|
stop

@enduml



## SEND_RESPONSE

| **ID**                 | SEND_RESPONSE                                        |
|------------------------|--------------------------------------------------------|
| **Назва**              | Відправити відповідь на опитування                   |
| **Учасники**           | Користувач, Система                                  |
| **Передумови**         | Опитування активне                                 |
| **Результат**          | Відповідь збережено, користувачу надано підтвердження                      |
| **Виключні ситуації**  |  Опитування завершене <br>  |
| **Основний сценарій**  | 1. Користувач обирає опитування. <br> 2. Система перевіряє доступність опитування. <br> 3. Користувач бачить питання <br> 4. Користувач заповнює відповіді. <br> 5. Користувач надсилає відповіді. <br> 6.Система зберігає відповіді та підтверджує відправлення.|



@startuml

skinparam defaultTextAlignment center

|Користувач|
start
:Обирає опитування;

|#e6faec|Система|
:Перевіряє статус опитування;
note right #ff8170
EX.08.01 — Опитування завершене  
end note

:Показує питання користувачу;

|Користувач|
:Заповнює відповіді на питання;
:Надсилає відповіді;

|#e6faec|Система|
:Зберігає відповіді;
:Підтверджує успішну відправку;

|Користувач|
stop

@enduml


